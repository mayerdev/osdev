(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{406:function(t,a,s){"use strict";s.r(a);var n=s(52),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"–æ–±—Ä–∞–±–æ—Ç–∫–∞-–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏"}},[t._v("#")]),t._v(" –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π")]),t._v(" "),s("h2",{attrs:{id:"isr-interrupt-service-routine"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isr-interrupt-service-routine"}},[t._v("#")]),t._v(" ISR - Interrupt Service Routine")]),t._v(" "),s("p",[t._v("–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ x86 - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è–º–∏. –í–Ω–µ—à–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤—ã–∑—ã–≤–∞—é—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ ‚Äî –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (ISR).")]),t._v(" "),s("p",[t._v("–¢–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º. –ü—Ä–∏–º–µ—Ä–æ–º –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞: –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç IRQ1 (–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ 1), –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è. –¢–∞–π–º–µ—Ä—ã –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –¥–∏—Å–∫ —è–≤–ª—è—é—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π.")]),t._v(" "),s("p",[t._v("–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º, –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–æ–¥–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ int; –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª—É–∂–±—ã MS-DOS, –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º, –∑–∞–ø—É—Å–∫–∞—é—â–∏–º INT 21h –∏ –ø–µ—Ä–µ–¥–∞—é—â–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.")]),t._v(" "),s("p",[t._v("–ß—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ –∑–Ω–∞–ª–∞, –∫–∞–∫—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, —Å–º–µ—â–µ–Ω–∏—è –¥–ª—è ISR —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Interrupt Descriptor Table, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ Protected Mode, –∏–ª–∏ Interrupt Vector Table, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ Real Mode.")]),t._v(" "),s("p",[t._v('ISR –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º, –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –≤—ã–∑–æ–≤–∞ ISR –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤—ã–∑–æ–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏–∏ C. –°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ, ISR –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –∫–æ–¥–æ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ iret (–∏–ª–∏ iretq –≤ Long Mode ‚Äî –¥–∞, –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Intel), –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ C –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è ret –∏–ª–∏ retf. –û—á–µ–≤–∏–¥–Ω–æ–µ, –Ω–æ —Ç–µ–º –Ω–µ –º–µ–Ω–µ–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö "–ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö" —Ç—Ä–æ–π–Ω–æ–π –æ—à–∏–±–∫–∏ —Å—Ä–µ–¥–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –û–°.')]),t._v(" "),s("h2",{attrs:{id:"–∫–æ–≥–¥–∞-–≤—ã–∑—ã–≤–∞—é—Ç—Å—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#–∫–æ–≥–¥–∞-–≤—ã–∑—ã–≤–∞—é—Ç—Å—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏"}},[t._v("#")]),t._v(" –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏")]),t._v(" "),s("h3",{attrs:{id:"x86"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#x86"}},[t._v("#")]),t._v(" x86")]),t._v(" "),s("p",[t._v("–ö–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ø–æ–º–µ—â–∞–µ—Ç —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–µ–∫ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("EFLAGS -> CS -> EIP\n")])])]),s("p",[t._v("–ó–Ω–∞—á–µ–Ω–∏–µ CS –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–≤—É–º—è –±–∞–π—Ç–∞–º–∏, —á—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –¥–≤–æ–π–Ω–æ–µ —Å–ª–æ–≤–æ.")]),t._v(" "),s("p",[t._v("–ï—Å–ª–∏ —Ç–∏–ø —à–ª—é–∑–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ–º, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ—á–∏—Å—Ç–∏—Ç —Ñ–ª–∞–≥ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è. –ï—Å–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏ –≤ —Å—Ç–µ–∫ –≤ –≤–∏–¥–µ –¥–≤–æ–π–Ω–æ–≥–æ —Å–ª–æ–≤–∞.")]),t._v(" "),s("p",[t._v("–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –∑–∞–≥—Ä—É–∑–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ IDT –≤ CS.")]),t._v(" "),s("h3",{attrs:{id:"x86-64"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#x86-64"}},[t._v("#")]),t._v(" x86-64")]),t._v(" "),s("p",[t._v("–ö–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –æ–Ω –∏–∑–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ RSP –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ IST, –∏ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, —Å—Ç–µ–∫ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º. –í –Ω–æ–≤—ã–π —Å—Ç–µ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ø–æ–º–µ—â–∞–µ—Ç —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("SS:RSP (original RSP) -> RFLAGS -> CS -> RIP\n")])])]),s("p",[t._v("CS –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ç—ã—Ä–µ—Ö—Å–ª–æ–≤–∏–µ.")]),t._v(" "),s("p",[t._v("–ï—Å–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–æ–ª—å—Ü–∞, SS —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ 0, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω—É–ª–µ–≤–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä. –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏–∑–º–µ–Ω–∏—Ç —Ä–µ–≥–∏—Å—Ç—Ä RFLAGS, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –±–∏—Ç—ã TF, NT –∏ RF —Ä–∞–≤–Ω—ã–º–∏ 0. –ï—Å–ª–∏ —Ç–∏–ø –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ—á–∏—Å—Ç–∏—Ç —Ñ–ª–∞–≥ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è.")]),t._v(" "),s("p",[t._v("–ï—Å–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏ –≤ —Å—Ç–µ–∫, –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –±–∞–π—Ç–∞–º–∏, —á—Ç–æ–±—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ç—ã—Ä–µ—Ö—Å–ª–æ–≤–∏–µ.")]),t._v(" "),s("p",[t._v("–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –∑–∞–≥—Ä—É–∑–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ IDT –≤ CS –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ CS –¥–æ–ø—É—Å—Ç–∏–º—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∫–æ–¥–∞.")]),t._v(" "),s("h2",{attrs:{id:"–ø—Ä–æ–±–ª–µ–º–∞"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#–ø—Ä–æ–±–ª–µ–º–∞"}},[t._v("#")]),t._v(" –ü—Ä–æ–±–ª–µ–º–∞")]),t._v(" "),s("p",[t._v("–ú–Ω–æ–≥–∏–µ –ª—é–¥–∏ –∏–∑–±–µ–≥–∞—é—Ç –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ –∏ —Ö–æ—Ç—è—Ç —Å–¥–µ–ª–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –Ω–∞ —Å–≤–æ–µ–º –ª—é–±–∏–º–æ–º —è–∑—ã–∫–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è. GCC (–∞ —Ç–∞–∫–∂–µ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã) –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞—Å—Å–µ–º–±–ª–µ—Ä, –ø–æ—ç—Ç–æ–º—É –º–Ω–æ–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –∏—Å–ø—ã—Ç—ã–≤–∞—é—Ç —Å–æ–±–ª–∞–∑–Ω –Ω–∞–ø–∏—Å–∞—Ç—å ISR, –ø–æ–¥–æ–±–Ω—ã–π —ç—Ç–æ–º—É:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –ö–∞–∫ –ù–ï –ù–£–ñ–ù–û –ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("asm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pushad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("asm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"popad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–≥–∏—Å—Ç—Ä—ã */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("asm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iret"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –£—Ä–∞! –£—Ä–∞! –¢—Ä–æ–π–Ω–∞—è –æ—à–∏–±–∫–∞ */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î—É–º–∞–µ–º –æ —Å–≤–æ—ë–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("–≠—Ç–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç. –û–Ω –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä—ã –∏ —Å—Ç–µ–∫ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ asm; –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø–æ–≤—Ä–µ–¥–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–µ–∫–∞ –¥–æ –∏ –ø–æ—Å–ª–µ –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ –≤–º–µ—Å—Ç–µ —Å iret –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∫–æ–¥—É –∞—Å—Å–µ–º–±–ª–µ—Ä–∞, –ø–æ—Ö–æ–∂–µ–º—É –Ω–∞ —ç—Ç–æ—Ç:")]),t._v(" "),s("div",{staticClass:"language-nasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nasm"}},[s("code",[t._v("push   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("ebp")]),t._v("\nmov    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("esp")]),t._v(","),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("ebp")]),t._v("\nsub    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("—Ä–∞–∑–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(","),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("esp")]),t._v("\npushad\n# C –∫–æ–¥ –ø–∏—à–µ–º –∑–¥–µ—Å—å\npopad\niret\n# "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'leave'")]),t._v(" –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pop %ebp'")]),t._v(" –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.\nleave\nret\n")])])]),s("p",[t._v("–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—á–µ–≤–∏–¥–Ω–æ, –∫–∞–∫ —ç—Ç–æ –ø–æ—Ä—Ç–∏—Ç —Å—Ç–µ–∫ (ebp –≤—ã—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã—Å–∫–∞–∫–∏–≤–∞–µ—Ç). –ù–µ –¥–µ–ª–∞–π —ç—Ç–æ–≥–æ.")]),t._v(" "),s("h2",{attrs:{id:"—Ä–µ—à–µ–Ω–∏—è"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#—Ä–µ—à–µ–Ω–∏—è"}},[t._v("#")]),t._v(" –†–µ—à–µ–Ω–∏—è")]),t._v(" "),s("h3",{attrs:{id:"—á–∏—Å—Ç—ã–∏-–∞—Å—Å–µ–º–±–ª–µ—Ä"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#—á–∏—Å—Ç—ã–∏-–∞—Å—Å–µ–º–±–ª–µ—Ä"}},[t._v("#")]),t._v(" –ß–∏—Å—Ç—ã–π –ê—Å—Å–µ–º–±–ª–µ—Ä")]),t._v(" "),s("p",[t._v("–£–∑–Ω–∞–π—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–± –∞—Å—Å–µ–º–±–ª–µ—Ä–µ, —á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –Ω—ë–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π üòÉ")]),t._v(" "),s("h3",{attrs:{id:"–¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–∏-–≤—Ä–∞–ø–ø–µ—Ä-–∞—Å—Å–µ–º–±–ª–µ—Ä–∞"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#–¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–∏-–≤—Ä–∞–ø–ø–µ—Ä-–∞—Å—Å–µ–º–±–ª–µ—Ä–∞"}},[t._v("#")]),t._v(" –î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –≤—Ä–∞–ø–ø–µ—Ä –∞—Å—Å–µ–º–±–ª–µ—Ä–∞")]),t._v(" "),s("p",[t._v("–ù–∞–ø–∏—à–∏—Ç–µ –æ–±–æ–ª–æ—á–∫—É –∞—Å—Å–µ–º–±–ª–µ—Ä–∞, –≤—ã–∑—ã–≤–∞—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é C –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, –∏ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ iret.")]),t._v(" "),s("div",{staticClass:"language-nasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nasm"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" –§–∞–π–ª: isr_wrapper.s "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n.globl   isr_wrapper\n.align   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token label function"}},[t._v("isr_wrapper:")]),t._v("\n    pushad\n    cld "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" –ö–æ–¥ C, —Å–ª–µ–¥—É—é—â–∏–π –∑–∞ sysV ABI, —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã DF –±—ã–ª –æ—á–∏—â–µ–Ω –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n    call interrupt_handler\n    popad\n    iret\n")])])]),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –§–∞–π–ª: interrupt_handler.c */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"–¥–∏—Ä–µ–∫—Ç–∏–≤—ã-–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ-–¥–ª—è-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#–¥–∏—Ä–µ–∫—Ç–∏–≤—ã-–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ-–¥–ª—è-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞"}},[t._v("#")]),t._v(" –î–∏—Ä–µ–∫—Ç–∏–≤—ã –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞")]),t._v(" "),s("p",[t._v("–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ –∏–º–µ—é—Ç –¥–∏—Ä–µ–∫—Ç–∏–≤—ã, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –æ–±—ä—è–≤–ª—è—Ç—å –æ–±—ã—á–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ, –ø—Ä–µ–¥–ª–∞–≥–∞—è #pragma interrupt –∏–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –º–∞–∫—Ä–æ—Å. Clang 3.9, Borland C, Watcom C/C++, Microsoft C 6.0 –∏ GCC –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —ç—Ç–æ. Visual C++ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É, –ø–æ–∫–∞–∑–∞–Ω–Ω—É—é –≤ —Ä–∞–∑–¥–µ–ª–µ "),s("strong",[t._v("Naked-—Ñ—É–Ω–∫—Ü–∏–∏")]),t._v(":")]),t._v(" "),s("h4",{attrs:{id:"clang"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clang"}},[t._v("#")]),t._v(" Clang")]),t._v(" "),s("p",[t._v("–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 3.9, –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –¥–ª—è x86/x86-64.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("interrupt_frame")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uword_t")]),t._v(" ip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uword_t")]),t._v(" cs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uword_t")]),t._v(" flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uword_t")]),t._v(" sp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uword_t")]),t._v(" ss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("__attribute__")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("interrupt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("interrupt_frame")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" frame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"borland-c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#borland-c"}},[t._v("#")]),t._v(" Borland C")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" interrupt "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"watcom-c-c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watcom-c-c"}},[t._v("#")]),t._v(" Watcom C/C++")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" _interrupt "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"naked-—Ñ—É–Ω–∫—Ü–∏–∏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#naked-—Ñ—É–Ω–∫—Ü–∏–∏"}},[t._v("#")]),t._v(" Naked-—Ñ—É–Ω–∫—Ü–∏–∏")]),t._v(" "),s("p",[t._v("–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, –Ω–æ —Ç—Ä–µ–±—É—é—Ç, —á—Ç–æ–±—ã –≤—ã –≤—Ä—É—á–Ω—É—é –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ç–µ–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞. –î–ª—è —ç—Ç–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –±–µ–∑ —ç–ø–∏–ª–æ–≥–∞ –∏–ª–∏ –ø—Ä–æ–ª–æ–≥–∞. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é "),s("strong",[t._v("naked")]),t._v(" ‚Äî —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ Visual C++ –ø—É—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–∞ "),s("em",[t._v("_declspec(naked)")]),t._v(" –∫ —Ñ—É–Ω–∫—Ü–∏–∏. –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã –≤–∫–ª—é—á–∞–µ—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é –≤–æ–∑–≤—Ä–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, iretd), –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ —á–∞—Å—Ç—å —ç–ø–∏–ª–æ–≥–∞, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É —Ç–µ–ø–µ—Ä—å –±—ã–ª–æ –ø–æ—Ä—É—á–µ–Ω–æ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å.")]),t._v(" "),s("p",[t._v("–ï—Å–ª–∏ –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –≤—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ—Ä–µ–π–º —Å—Ç–µ–∫–∞ —Ç–∞–∫, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä; –æ–¥–Ω–∞–∫–æ, –ø–æ—Å–∫–æ–ª—å–∫—É ISR –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Ä–µ–µ–Ω—Ç–µ—Ä–∞–±–µ–ª—å–Ω—ã–º–∏, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.")]),t._v(" "),s("h4",{attrs:{id:"microsoft-visual-c"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#microsoft-visual-c"}},[t._v("#")]),t._v(" Microsoft Visual C++")]),t._v(" "),s("p",[t._v("Visual C++ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞–∫—Ä–æ—Å –∞—Å—Å–µ–º–±–ª–µ—Ä–∞ __LOCAL_SIZE, –∫–æ—Ç–æ—Ä—ã–π —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–∞—Å, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞–º –≤ —Å—Ç–µ–∫–µ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏.")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_declspec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("naked"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    _asm pushad"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n \n    _asm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        popad\n        iretd\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"gcc-g"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gcc-g"}},[t._v("#")]),t._v(" GCC / G++")]),t._v(" "),s("p",[t._v("–í "),s("a",{attrs:{href:"https://gcc.gnu.org/onlinedocs/gcc/x86-Function-Attributes.html#x86-Function-Attributes",target:"_blank",rel:"noopener noreferrer"}},[t._v("–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ GCC"),s("OutboundLink")],1),t._v(" –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∞—Ç—Ä–∏–±—É—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π GCC, –æ–Ω–∏ –¥–æ–±–∞–≤–∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ C —Å –ø–æ–º–æ—â—å—é _"),s("em",[t._v("attribute")]),t._v("_((interrupt)). –¢–∞–∫ —á—Ç–æ –≤–º–µ—Å—Ç–æ:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –ß–Å–†–ù–ê–Ø –ú–ê–ì–ò–Ø - –∫–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è! */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__asm__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pushad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__asm__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"popad; leave; iret"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –ß–Å–†–ù–ê–Ø –ú–ê–ì–ò–Ø! */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("interrupt_frame")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("__attribute__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("interrupt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("interrupt_frame")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" frame"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v('–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è GCC –≥–æ–≤–æ—Ä–∏—Ç—Å—è, —á—Ç–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞—Ç—Ä–∏–±—É—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è iret –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–æ ret –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö x86 –∏ x86-64. –í –Ω–µ–º —Ç–∞–∫–∂–µ –≥–æ–≤–æ—Ä–∏—Ç—Å—è: "–ü–æ—Å–∫–æ–ª—å–∫—É GCC –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è SSE, MMX –∏ x87, –ø–∞—Ä–∞–º–µ—Ç—Ä GCC-mgeneral-regs-only –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π."')]),t._v(" "),s("h5",{attrs:{id:"—á–µ—Ä–Ω–∞—è-–º–∞–≥–∏—è"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#—á–µ—Ä–Ω–∞—è-–º–∞–≥–∏—è"}},[t._v("#")]),t._v(" –ß—ë—Ä–Ω–∞—è –º–∞–≥–∏—è")]),t._v(" "),s("p",[t._v("–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π –∫–æ–¥ –≤—ã—à–µ, –≥–¥–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π exit-–∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ C –±—ã–ª –ø—Ä–æ–ø—É—â–µ–Ω, —á—Ç–æ –∏—Å–ø–æ—Ä—Ç–∏–ª–æ —Å—Ç–µ–∫. –¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞, –≥–¥–µ –∫–æ–¥ –≤—ã—Ö–æ–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –ß–Å–†–ù–ê–Ø –ú–ê–ì–ò–Ø - –∫–∞—Ç–µ–≥–æ—Ä–∏—á–µ—Å–∫–∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è! */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interrupt_handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__asm__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pushad"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –î–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å */")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("__asm__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"popad; leave; iret"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* –ß–Å–†–ù–ê–Ø –ú–ê–ì–ò–Ø! */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("–ê—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã–π –∫–æ–¥ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:")]),t._v(" "),s("div",{staticClass:"language-nasm extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nasm"}},[s("code",[t._v("push   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("ebp")]),t._v("\nmov    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("esp")]),t._v(","),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("ebp")]),t._v("\nsub    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("—Ä–∞–∑–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(","),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),s("span",{pre:!0,attrs:{class:"token register variable"}},[t._v("esp")]),t._v("\npushad\n# C"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("–∫–æ–¥ –≥–¥–µ"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("—Ç–æ –∑–¥–µ—Å—å\npopad\nleave\niret\nleave # –º—ë—Ä—Ç–≤—ã–π –∫–æ–¥\nret   # –º—ë—Ä—Ç–≤—ã–π –∫–æ–¥\n")])])]),s("p",[t._v('–≠—Ç–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ leave —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫–æ–Ω—Ü–∞ —Ñ—É–Ω–∫—Ü–∏–∏ - –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ "–≤—Ä—É—á–Ω—É—é", –∞ –æ–±—Ä–∞–±–æ—Ç–∫—É, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º, –æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ –∫–∞–∫ "–º–µ—Ä—Ç–≤—ã–π –∫–æ–¥". –ò–∑–ª–∏—à–Ω–µ –≥–æ–≤–æ—Ä–∏—Ç—å, —á—Ç–æ —Ç–∞–∫–∏–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –æ–ø–∞—Å–Ω—ã. –≠—Ç–æ—Ç –∫–æ–¥ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ –∏–ª–∏ –¥–∞–∂–µ –Ω–∞ –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–∏ —Ç–æ–≥–æ –∂–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞. –ü–æ—ç—Ç–æ–º—É –æ–Ω –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏ —É–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã –∫–∞—Ä—Ç–∏–Ω—ã.')]),t._v(" "),s("h5",{attrs:{id:"assembly-goto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#assembly-goto"}},[t._v("#")]),t._v(" Assembly Goto")]),t._v(" "),s("p",[t._v('–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 4.5, GCC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä "asm goto". –û–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è ISR –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ ISR.')])])}),[],!1,null,null,null);a.default=r.exports}}]);